import{d as m,u as h,g as f,v as g,i as w,o as y,c as b,a as e,a1 as i,a5 as n,M as x,l as E,m as p,B as S,s as P,a6 as U,a7 as B,p as V,e as q,_ as C}from"./index-59391c49.js";const l=r=>(V("data-v-67bc295a"),r=r(),q(),r),I={class:"container"},M={class:"profile-wrapper"},k={class:"form-wrapper"},A=l(()=>e("div",{class:"heading"},[e("h1",null," Edit profile ")],-1)),L={class:"input-wrapper"},T=l(()=>e("i",{class:"cs-user"},null,-1)),D={class:"input-wrapper"},N=l(()=>e("i",{class:"cs-password"},null,-1)),R={class:"input-wrapper"},$=l(()=>e("i",{class:"cs-location"},null,-1)),j={class:"input-wrapper"},z=l(()=>e("i",{class:"cs-calendar"},null,-1)),F=m({__name:"Profile",setup(r){const d=h(),s=f({email:"",password:"",age:"",address:""}),u=g.useToast(),c=document.querySelector("body"),_=async()=>{try{s.value.email=d.state.user.email;const t=x(E(p,"usersCollection"),S("uid","==",d.state.user.uid));(await P(t)).forEach(a=>{s.value.address=a.data().address,s.value.age=a.data().age})}catch(t){console.error("Error getting collection data:",t)}},v=async()=>{c.classList.add("loading");const t=U(p,"usersCollection",d.state.user.uid),o={uid:d.state.user.uid,age:s.value.age,address:s.value.address};B(t,o,{merge:!0}).then(()=>{console.log("Profile updated successfully"),u.success("Profile updated successfully",{position:"bottom-right"})}).catch(a=>{console.error("Error updating profile:",a),u.error("Error updating profile: "+a,{position:"bottom-right"})}),c.classList.remove("loading")};return w(()=>{_()}),(t,o)=>(y(),b("div",I,[e("div",M,[e("div",k,[A,e("div",L,[T,i(e("input",{type:"email","onUpdate:modelValue":o[0]||(o[0]=a=>s.value.email=a),placeholder:"Email"},null,512),[[n,s.value.email]])]),e("div",D,[N,i(e("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=a=>s.value.password=a),placeholder:"Password"},null,512),[[n,s.value.password]])]),e("div",R,[$,i(e("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=a=>s.value.address=a),placeholder:"Address"},null,512),[[n,s.value.address]])]),e("div",j,[z,i(e("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=a=>s.value.age=a),placeholder:"Age"},null,512),[[n,s.value.age]])]),e("button",{onClick:v},"Update")])])]))}});const H=C(F,[["__scopeId","data-v-67bc295a"]]);export{H as default};
